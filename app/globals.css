@tailwind base;
@tailwind components;
@tailwind utilities;

/* CSS Custom Properties */
:root {
  /* Desktop Colors */
  --desktop-primary: #050505;
  --desktop-secondary: #0a0a0a;
  --desktop-border: #1a1a1a;
  --desktop-muted: #333333;
  
  /* App Colors */
  --app-primary: #183d56;
  --app-secondary: #2a4a73;
  --app-accent: #3b8fdb;
  --app-light: #87ceeb;
  
  /* Aurora Colors */
  --aurora-orange: #dc603f;
  --aurora-coral: #ff7f5c;
  --aurora-success: #10b981;
  --aurora-white: #ffffff;

  /* Shadcn/ui base color variables - Updated to match new scheme */
  --background: 24 61 86; /* Deep Slate (#183d56) - App Primary */
  --foreground: 255 255 255; /* Pure White (#ffffff) */
  
  --card: 42 74 115; /* Ocean Blue (#2a4a73) - App Secondary */
  --card-foreground: 255 255 255; /* Pure White (#ffffff) */
  
  --popover: 42 74 115; /* Ocean Blue (#2a4a73) */
  --popover-foreground: 255 255 255; /* Pure White (#ffffff) */
  
  --primary: 59 143 219; /* Aurora Blue (#3b8fdb) */
  --primary-foreground: 255 255 255; /* Pure White (#ffffff) */
  
  --secondary: 135 206 235; /* Frost Blue (#87ceeb) - App Light */
  --secondary-foreground: 24 61 86; /* Deep Slate (#183d56) */
  
  --muted: 51 51 51; /* Smoke Mist (#333333) - Desktop Muted */
  --muted-foreground: 135 206 235; /* Frost Blue (#87ceeb) */
  
  --accent: 220 96 63; /* Aurora Orange (#dc603f) */
  --accent-foreground: 255 255 255; /* Pure White (#ffffff) */
  
  --destructive: 255 127 92; /* Coral Accent (#ff7f5c) */
  --destructive-foreground: 255 255 255; /* Pure White (#ffffff) */
  
  --border: 26 26 26; /* Ember Gray (#1a1a1a) */
  --input: 24 61 86; /* Deep Slate (#183d56) */
  --ring: 59 143 219; /* Aurora Blue (#3b8fdb) */
  
  --radius: 0.75rem;
}

.dark {
  /* Dark mode uses the same colors for minimal theme */
  --background: 24 61 86; /* Deep Slate (#183d56) */
  --foreground: 255 255 255; /* Pure White (#ffffff) */
  
  --card: 42 74 115; /* Ocean Blue (#2a4a73) */
  --card-foreground: 255 255 255; /* Pure White (#ffffff) */
  
  --popover: 42 74 115; /* Ocean Blue (#2a4a73) */
  --popover-foreground: 255 255 255; /* Pure White (#ffffff) */
  
  --primary: 59 143 219; /* Aurora Blue (#3b8fdb) */
  --primary-foreground: 255 255 255; /* Pure White (#ffffff) */
  
  --secondary: 135 206 235; /* Frost Blue (#87ceeb) */
  --secondary-foreground: 24 61 86; /* Deep Slate (#183d56) */
  
  --muted: 51 51 51; /* Smoke Mist (#333333) */
  --muted-foreground: 135 206 235; /* Frost Blue (#87ceeb) */
  
  --accent: 220 96 63; /* Aurora Orange (#dc603f) */
  --accent-foreground: 255 255 255; /* Pure White (#ffffff) */
  
  --destructive: 255 127 92; /* Coral Accent (#ff7f5c) */
  --destructive-foreground: 255 255 255; /* Pure White (#ffffff) */
  
  --border: 26 26 26; /* Ember Gray (#1a1a1a) */
  --input: 24 61 86; /* Deep Slate (#183d56) */
  --ring: 59 143 219; /* Aurora Blue (#3b8fdb) */
}

/* Base styles */
html, body {
  background: var(--desktop-primary);
  color: var(--aurora-white);
  font-family: 'Inter', 'SF Pro Display', -apple-system, BlinkMacSystemFont, sans-serif;
  scroll-behavior: smooth;
}

/* Mobile viewport fixes */
@supports (height: 100dvh) {
  .h-screen-safe {
    height: 100dvh;
  }
}

@supports not (height: 100dvh) {
  .h-screen-safe {
    height: 100vh;
    height: calc(var(--vh, 1vh) * 100);
  }
}

/* Ensure proper touch scrolling on mobile */
.mobile-scroll {
  -webkit-overflow-scrolling: touch;
  overscroll-behavior: contain;
}

/* Prevent body scroll when modal/overlay is open on mobile */
body.modal-open {
  overflow: hidden;
  position: fixed;
  width: 100%;
}

@layer base {
  * {
    @apply border-border;
  }
  
  body {
    @apply bg-background text-foreground;
    font-feature-settings: "rlig" 1, "calt" 1;
  }
  
  /* Custom pattern overlay */
  .app-pattern {
    position: relative;
  }
  
  .app-pattern::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: 
      radial-gradient(circle at 1px 1px, rgba(59, 143, 219, 0.1) 1px, transparent 0);
    background-size: 20px 20px;
    pointer-events: none;
    border-radius: inherit;
  }
}

/* Component classes */
@layer components {
  /* Desktop Environment */
  .desktop-background {
    @apply bg-desktop-primary;
    background-image: 
      radial-gradient(ellipse at 30% 70%, rgba(220, 96, 63, 0.1) 0%, transparent 70%),
      radial-gradient(ellipse at 70% 30%, rgba(59, 143, 219, 0.08) 0%, transparent 70%);
  }
  
  .desktop-panel {
    @apply bg-desktop-secondary/95 backdrop-blur-xl border border-desktop-border;
  }
  
  .desktop-taskbar {
    @apply bg-desktop-secondary/90 backdrop-blur-2xl border-t border-desktop-border;
  }
  
  /* App Content */
  .app-window {
    @apply bg-app-primary border border-app-secondary rounded-xl shadow-app backdrop-blur-lg;
  }
  
  .app-content {
    @apply bg-app-secondary/50 text-aurora-white;
  }
  
  .app-card {
    @apply bg-app-secondary border border-app-accent/30 rounded-lg p-4 hover:border-app-accent/50 transition-all duration-300;
  }
  
  /* Interactive Elements */
  .btn-primary {
    @apply bg-aurora-orange hover:bg-aurora-coral text-aurora-white px-6 py-3 rounded-lg font-semibold transition-all duration-300 shadow-aurora;
  }
  
  .btn-secondary {
    @apply bg-app-accent hover:bg-app-light hover:text-app-primary text-aurora-white px-6 py-3 rounded-lg font-semibold transition-all duration-300;
  }
  
  .link-aurora {
    @apply text-app-accent hover:text-app-light transition-colors duration-200;
  }
  
  /* Text styles */
  .text-aurora {
    @apply text-transparent bg-clip-text;
    background-image: linear-gradient(135deg, #dc603f, #3b8fdb);
  }
  
  .text-readable {
    @apply text-aurora-white/90 leading-relaxed;
  }
  
  /* Utility classes */
  .glass-effect {
    @apply backdrop-blur-xl bg-opacity-10 border border-white/10;
  }
  
  .aurora-glow {
    box-shadow: 0 0 20px rgba(220, 96, 63, 0.3), 0 0 40px rgba(59, 143, 219, 0.2);
  }
  
  /* Legacy component support */
  .desktop-window {
    @apply app-window;
  }
  
  .cyber-button {
    @apply btn-secondary;
  }
  
  .terminal-text {
    @apply text-app-accent font-mono;
  }
}

/* Scrollbar styling */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: var(--desktop-secondary);
}

::-webkit-scrollbar-thumb {
  background: var(--app-accent);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--app-light);
}

/* Fix chat message layout */
.chat-message {
  word-wrap: break-word;
  overflow-wrap: break-word;
  hyphens: auto;
}

/* Ensure proper z-index stacking */
.window-container {
  position: relative;
  z-index: 10;
}

.window-container.active {
  z-index: 50;
}

.modal-overlay {
  z-index: 100;
}

.notification-panel {
  z-index: 60;
}

.app-launcher {
  z-index: 70;
}
